package defpackage;

import android.util.Pair;
import androidx.recyclerview.widget.RecyclerView;
import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

/* renamed from: mq1  reason: default package */
public final class mq1 {
    public static final byte[] a;

    static {
        int i = zn4.a;
        a = "OpusHead".getBytes(zs4.c);
    }

    /* JADX WARN: Code restructure failed: missing block: B:28:0x00bc, code lost:
        if (r9 == 0) goto L685;
     */
    /* JADX WARN: Code restructure failed: missing block: B:398:0x0794, code lost:
        if (r17 == null) goto L628;
     */
    /* JADX WARN: Removed duplicated region for block: B:354:0x06b9  */
    /* JADX WARN: Removed duplicated region for block: B:366:0x06cf  */
    /* JADX WARN: Removed duplicated region for block: B:368:0x06d3  */
    /* JADX WARN: Removed duplicated region for block: B:369:0x06d5  */
    /* JADX WARN: Removed duplicated region for block: B:371:0x06d8  */
    /* JADX WARN: Removed duplicated region for block: B:379:0x06ea  */
    /* JADX WARN: Removed duplicated region for block: B:483:0x0a0e  */
    /* JADX WARN: Removed duplicated region for block: B:524:0x0ae3 A[LOOP:14: B:524:0x0ae3->B:528:0x0aed, LOOP_START, PHI: r21 
      PHI: (r21v14 int) = (r21v13 int), (r21v15 int) binds: [B:523:0x0ae1, B:528:0x0aed] A[DONT_GENERATE, DONT_INLINE]] */
    /* JADX WARN: Removed duplicated region for block: B:531:0x0af6  */
    /* JADX WARN: Removed duplicated region for block: B:545:0x0b68  */
    /* JADX WARN: Removed duplicated region for block: B:546:0x0b6b  */
    /* JADX WARN: Removed duplicated region for block: B:551:0x0b90  */
    /* JADX WARN: Removed duplicated region for block: B:552:0x0ba5  */
    /* JADX WARN: Removed duplicated region for block: B:62:0x0121  */
    /* JADX WARN: Removed duplicated region for block: B:63:0x0124  */
    /* JADX WARN: Removed duplicated region for block: B:660:0x0e0c A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:66:0x0137  */
    /* JADX WARN: Removed duplicated region for block: B:67:0x013a  */
    /* JADX WARN: Removed duplicated region for block: B:681:0x0ad7 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:71:0x0148  */
    /* JADX WARN: Removed duplicated region for block: B:74:0x0180  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static ArrayList a(zp1 zp1Var, uk1 uk1Var, long j, al1 al1Var, boolean z, at4 at4Var) {
        int i;
        long j2;
        int i2;
        int i3;
        int i4;
        aq1 d;
        ArrayList arrayList;
        String str;
        int i5;
        zp1 zp1Var2;
        long[] jArr;
        long[] jArr2;
        xq1 xq1Var;
        at4 at4Var2;
        Pair d2;
        String str2;
        int i6;
        kh4 kh4Var;
        Pair pair;
        zp1 zp1Var3;
        al1 al1Var2;
        String str3;
        int i7;
        jq1 jq1Var;
        int i8;
        nw4 nw4Var;
        int i9;
        int i10;
        String str4;
        int i11;
        int i12;
        int i13;
        int i14;
        jq1 jq1Var2;
        long j3;
        long j4;
        int i15;
        jq1 jq1Var3;
        int i16;
        int i17;
        int i18;
        byte[] bArr;
        float f;
        String str5;
        int i19;
        boolean z2;
        int i20;
        int i21;
        byte[] bArr2;
        List list;
        String str6;
        String str7;
        int i22;
        int i23;
        String str8;
        int i24;
        int i25;
        String str9;
        nw4 v;
        String str10;
        long j5;
        ArrayList arrayList2;
        iq1 lq1Var;
        boolean z3;
        int i26;
        kh4 kh4Var2;
        int i27;
        int i28;
        int i29;
        int a2;
        long[] jArr3;
        int[] iArr;
        int i30;
        int i31;
        int i32;
        long j6;
        kh4 kh4Var3;
        int i33;
        boolean z4;
        long[] jArr4;
        int i34;
        int i35;
        int i36;
        int i37;
        int i38;
        int i39;
        int[] iArr2;
        long[] jArr5;
        long j7;
        int[] iArr3;
        int[] iArr4;
        int i40;
        long[] jArr6;
        int i41;
        kh4 kh4Var4;
        int i42;
        int i43;
        kh4 kh4Var5;
        long[] jArr7;
        long[] jArr8;
        int[] iArr5;
        long[] jArr9;
        long[] jArr10;
        int i44;
        ar1 ar1Var;
        int[] iArr6;
        int[] iArr7;
        int i45;
        int i46;
        int i47;
        zp1 zp1Var4 = zp1Var;
        ArrayList arrayList3 = new ArrayList();
        int i48 = 0;
        while (i48 < zp1Var4.d.size()) {
            zp1 zp1Var5 = (zp1) zp1Var4.d.get(i48);
            if (zp1Var5.a != 1953653099) {
                arrayList2 = arrayList3;
                i = i48;
            } else {
                aq1 d3 = zp1Var4.d(1836476516);
                d3.getClass();
                zp1 c = zp1Var5.c(1835297121);
                c.getClass();
                aq1 d4 = c.d(1751411826);
                d4.getClass();
                kh4 kh4Var6 = d4.b;
                kh4Var6.e(16);
                int b = b(kh4Var6.i());
                String str11 = "AtomParsers";
                i = i48;
                if (b == -1) {
                    at4Var2 = at4Var;
                    str = "AtomParsers";
                    zp1Var2 = zp1Var5;
                    arrayList = arrayList3;
                    xq1Var = null;
                    i5 = -1;
                } else {
                    aq1 d5 = zp1Var5.d(1953196132);
                    d5.getClass();
                    kh4 kh4Var7 = d5.b;
                    kh4Var7.e(8);
                    int a3 = bq1.a(kh4Var7.i());
                    kh4Var7.f(a3 == 0 ? 8 : 16);
                    int i49 = kh4Var7.i();
                    kh4Var7.f(4);
                    int i50 = kh4Var7.b;
                    int i51 = 0;
                    while (true) {
                        int i52 = a3 == 0 ? 4 : 8;
                        if (i51 >= i52) {
                            kh4Var7.f(i52);
                            break;
                        } else if (kh4Var7.a[i50 + i51] != -1) {
                            j2 = a3 == 0 ? kh4Var7.u() : kh4Var7.v();
                        } else {
                            i51++;
                        }
                    }
                    j2 = -9223372036854775807L;
                    kh4Var7.f(16);
                    int i53 = kh4Var7.i();
                    int i54 = kh4Var7.i();
                    kh4Var7.f(4);
                    int i55 = kh4Var7.i();
                    int i56 = kh4Var7.i();
                    if (i53 == 0) {
                        if (i54 == 65536) {
                            if (i55 != -65536) {
                                i54 = 65536;
                            } else if (i56 == 0) {
                                i3 = 90;
                                long j8 = j == -9223372036854775807L ? j2 : j;
                                kh4 kh4Var8 = d3.b;
                                kh4Var8.e(8);
                                kh4Var8.f(bq1.a(kh4Var8.i()) == 0 ? 8 : 16);
                                long u = kh4Var8.u();
                                long r = j8 != -9223372036854775807L ? zn4.r(j8, 1000000L, u) : -9223372036854775807L;
                                zp1 c2 = c.c(1835626086);
                                c2.getClass();
                                zp1 c3 = c2.c(1937007212);
                                c3.getClass();
                                aq1 d6 = c.d(1835296868);
                                d6.getClass();
                                Pair e = e(d6.b);
                                d = c3.d(1937011556);
                                if (d == null) {
                                    throw jy2.a("Malformed sample table (stbl) missing sample description (stsd)", null);
                                }
                                kh4 kh4Var9 = d.b;
                                String str12 = (String) e.second;
                                kh4Var9.e(12);
                                arrayList = arrayList3;
                                int i57 = kh4Var9.i();
                                jq1 jq1Var4 = new jq1(i57);
                                int i58 = 0;
                                while (i58 < i57) {
                                    int h = kh4Var9.h();
                                    int i59 = i57;
                                    int i60 = kh4Var9.i();
                                    String str13 = "childAtomSize must be positive";
                                    uf0.j("childAtomSize must be positive", i60 > 0);
                                    int i61 = kh4Var9.i();
                                    if (i61 == 1635148593 || i61 == 1635148595 || i61 == 1701733238 || i61 == 1831958048 || i61 == 1836070006 || i61 == 1752589105 || i61 == 1751479857 || i61 == 1932670515 || i61 == 1211250227 || i61 == 1987063864 || i61 == 1987063865 || i61 == 1635135537 || i61 == 1685479798 || i61 == 1685479729 || i61 == 1685481573 || i61 == 1685481521) {
                                        int i62 = i3;
                                        str2 = str12;
                                        int i63 = i49;
                                        String str14 = str11;
                                        i6 = b;
                                        kh4Var = kh4Var9;
                                        pair = e;
                                        zp1Var3 = zp1Var5;
                                        int i64 = i61;
                                        kh4Var.e(h + 16);
                                        kh4Var.f(16);
                                        int q = kh4Var.q();
                                        int q2 = kh4Var.q();
                                        kh4Var.f(50);
                                        int h2 = kh4Var.h();
                                        int i65 = 1701733238;
                                        if (i64 == 1701733238) {
                                            Pair f2 = f(kh4Var, h, i60);
                                            if (f2 != null) {
                                                i65 = ((Integer) f2.first).intValue();
                                                al1Var2 = al1Var == null ? null : al1Var.a(((yq1) f2.second).b);
                                                jq1Var4.a[i58] = (yq1) f2.second;
                                            } else {
                                                al1Var2 = al1Var;
                                            }
                                            kh4Var.e(h2);
                                            i64 = i65;
                                        } else {
                                            al1Var2 = al1Var;
                                        }
                                        if (i64 == 1831958048) {
                                            str3 = "video/mpeg";
                                        } else if (i64 == 1211250227) {
                                            str3 = "video/3gpp";
                                            i64 = 1211250227;
                                        } else {
                                            str3 = null;
                                        }
                                        int i66 = h2;
                                        al1 al1Var3 = al1Var2;
                                        String str15 = str3;
                                        i7 = i58;
                                        nw4 nw4Var2 = null;
                                        int i67 = -1;
                                        String str16 = null;
                                        byte[] bArr3 = null;
                                        float f3 = 1.0f;
                                        ByteBuffer byteBuffer = null;
                                        dq1 dq1Var = null;
                                        int i68 = -1;
                                        int i69 = -1;
                                        int i70 = -1;
                                        boolean z5 = false;
                                        while (true) {
                                            if (i66 - h >= i60) {
                                                jq1Var = jq1Var4;
                                                i8 = q2;
                                                nw4Var = nw4Var2;
                                                break;
                                            }
                                            kh4Var.e(i66);
                                            int h3 = kh4Var.h();
                                            int i71 = kh4Var.i();
                                            if (i71 == 0) {
                                                nw4Var = nw4Var2;
                                                if (kh4Var.h() - h == i60) {
                                                    jq1Var = jq1Var4;
                                                    i8 = q2;
                                                    break;
                                                }
                                                i15 = 0;
                                            } else {
                                                nw4Var = nw4Var2;
                                                i15 = i71;
                                            }
                                            int i72 = i60;
                                            uf0.j(str13, i15 > 0);
                                            int i73 = kh4Var.i();
                                            String str17 = str13;
                                            int i74 = h;
                                            if (i73 == 1635148611) {
                                                uf0.j(null, str15 == null);
                                                kh4Var.e(h3 + 8);
                                                h16 a4 = h16.a(kh4Var);
                                                list = a4.a;
                                                jq1Var4.c = a4.b;
                                                if (!z5) {
                                                    f3 = a4.e;
                                                }
                                                str6 = a4.f;
                                                str7 = "video/avc";
                                            } else if (i73 == 1752589123) {
                                                uf0.j(null, str15 == null);
                                                kh4Var.e(h3 + 8);
                                                vk1 a5 = vk1.a(kh4Var);
                                                list = a5.a;
                                                jq1Var4.c = a5.b;
                                                if (!z5) {
                                                    f3 = a5.c;
                                                }
                                                str6 = a5.d;
                                                str7 = "video/hevc";
                                            } else {
                                                if (i73 == 1685480259 || i73 == 1685485123) {
                                                    jq1Var3 = jq1Var4;
                                                    i16 = i64;
                                                    i17 = q2;
                                                    i18 = i67;
                                                    bArr = bArr3;
                                                    f = f3;
                                                    str5 = str14;
                                                    jk1 a6 = jk1.a(kh4Var);
                                                    if (a6 != null) {
                                                        str16 = a6.a;
                                                        str15 = "video/dolby-vision";
                                                    }
                                                } else {
                                                    if (i73 == 1987076931) {
                                                        uf0.j(null, str15 == null);
                                                        str15 = i64 == 1987063864 ? "video/x-vnd.on2.vp8" : "video/x-vnd.on2.vp9";
                                                    } else if (i73 == 1635135811) {
                                                        uf0.j(null, str15 == null);
                                                        str15 = "video/av01";
                                                    } else if (i73 == 1668050025) {
                                                        ByteBuffer order = byteBuffer == null ? ByteBuffer.allocate(25).order(ByteOrder.LITTLE_ENDIAN) : byteBuffer;
                                                        order.position(21);
                                                        order.putShort(kh4Var.A());
                                                        order.putShort(kh4Var.A());
                                                        byteBuffer = order;
                                                    } else {
                                                        if (i73 == 1835295606) {
                                                            ByteBuffer order2 = byteBuffer == null ? ByteBuffer.allocate(25).order(ByteOrder.LITTLE_ENDIAN) : byteBuffer;
                                                            short A = kh4Var.A();
                                                            short A2 = kh4Var.A();
                                                            short A3 = kh4Var.A();
                                                            i16 = i64;
                                                            short A4 = kh4Var.A();
                                                            jq1Var3 = jq1Var4;
                                                            short A5 = kh4Var.A();
                                                            i18 = i67;
                                                            short A6 = kh4Var.A();
                                                            bArr = bArr3;
                                                            short A7 = kh4Var.A();
                                                            f = f3;
                                                            short A8 = kh4Var.A();
                                                            long u2 = kh4Var.u();
                                                            long u3 = kh4Var.u();
                                                            i17 = q2;
                                                            order2.position(1);
                                                            order2.putShort(A5);
                                                            order2.putShort(A6);
                                                            order2.putShort(A);
                                                            order2.putShort(A2);
                                                            order2.putShort(A3);
                                                            order2.putShort(A4);
                                                            order2.putShort(A7);
                                                            order2.putShort(A8);
                                                            order2.putShort((short) (u2 / 10000));
                                                            order2.putShort((short) (u3 / 10000));
                                                            byteBuffer = order2;
                                                        } else {
                                                            jq1Var3 = jq1Var4;
                                                            i16 = i64;
                                                            i17 = q2;
                                                            i18 = i67;
                                                            bArr = bArr3;
                                                            f = f3;
                                                            if (i73 == 1681012275) {
                                                                uf0.j(null, str15 == null);
                                                                str15 = "video/3gpp";
                                                            } else if (i73 == 1702061171) {
                                                                uf0.j(null, str15 == null);
                                                                dq1Var = g(h3, kh4Var);
                                                                str15 = dq1Var.a;
                                                                bArr2 = dq1Var.b;
                                                                if (bArr2 != null) {
                                                                    nw4Var = nv4.v(bArr2);
                                                                }
                                                            } else if (i73 == 1885434736) {
                                                                kh4Var.e(h3 + 8);
                                                                f3 = kh4Var.p() / kh4Var.p();
                                                                bArr3 = bArr;
                                                                z5 = true;
                                                                bArr = bArr3;
                                                                f = f3;
                                                                str5 = str14;
                                                                i67 = i18;
                                                                break;
                                                                i66 += i15;
                                                                str14 = str5;
                                                                i60 = i72;
                                                                nw4Var2 = nw4Var;
                                                                str13 = str17;
                                                                h = i74;
                                                                i64 = i16;
                                                                jq1Var4 = jq1Var3;
                                                                bArr3 = bArr;
                                                                f3 = f;
                                                                q2 = i17;
                                                            } else if (i73 == 1937126244) {
                                                                int i75 = h3 + 8;
                                                                while (i75 - h3 < i15) {
                                                                    kh4Var.e(i75);
                                                                    int i76 = kh4Var.i();
                                                                    if (kh4Var.i() == 1886547818) {
                                                                        bArr3 = Arrays.copyOfRange(kh4Var.g(), i75, i76 + i75);
                                                                        f3 = f;
                                                                        bArr = bArr3;
                                                                        f = f3;
                                                                        str5 = str14;
                                                                        i67 = i18;
                                                                        break;
                                                                    }
                                                                    i75 += i76;
                                                                }
                                                                str5 = str14;
                                                                i67 = i18;
                                                                bArr = null;
                                                                i66 += i15;
                                                                str14 = str5;
                                                                i60 = i72;
                                                                nw4Var2 = nw4Var;
                                                                str13 = str17;
                                                                h = i74;
                                                                i64 = i16;
                                                                jq1Var4 = jq1Var3;
                                                                bArr3 = bArr;
                                                                f3 = f;
                                                                q2 = i17;
                                                            } else {
                                                                if (i73 == 1936995172) {
                                                                    int n = kh4Var.n();
                                                                    kh4Var.f(3);
                                                                    if (n == 0) {
                                                                        int n2 = kh4Var.n();
                                                                        if (n2 == 0) {
                                                                            str5 = str14;
                                                                            i67 = 0;
                                                                        } else if (n2 == 1) {
                                                                            str5 = str14;
                                                                            i67 = 1;
                                                                        } else if (n2 == 2) {
                                                                            str5 = str14;
                                                                            i67 = 2;
                                                                        } else if (n2 == 3) {
                                                                            str5 = str14;
                                                                            i67 = 3;
                                                                        }
                                                                        break;
                                                                        i66 += i15;
                                                                        str14 = str5;
                                                                        i60 = i72;
                                                                        nw4Var2 = nw4Var;
                                                                        str13 = str17;
                                                                        h = i74;
                                                                        i64 = i16;
                                                                        jq1Var4 = jq1Var3;
                                                                        bArr3 = bArr;
                                                                        f3 = f;
                                                                        q2 = i17;
                                                                    }
                                                                } else if (i73 == 1668246642) {
                                                                    int i77 = kh4Var.i();
                                                                    if (i77 == 1852009592 || i77 == 1852009571) {
                                                                        str5 = str14;
                                                                        int q3 = kh4Var.q();
                                                                        int q4 = kh4Var.q();
                                                                        kh4Var.f(2);
                                                                        int i78 = 19;
                                                                        if (i15 == 19) {
                                                                            if ((kh4Var.n() & 128) != 0) {
                                                                                z2 = true;
                                                                                int i79 = eu5.f;
                                                                                if (q3 == 1) {
                                                                                    i20 = 6;
                                                                                    if (q3 != 9) {
                                                                                        i20 = (q3 == 4 || q3 == 5 || q3 == 6 || q3 == 7) ? 2 : -1;
                                                                                    }
                                                                                } else {
                                                                                    i20 = 1;
                                                                                }
                                                                                int i80 = true == z2 ? 2 : 1;
                                                                                if (q4 == 1) {
                                                                                    i21 = 6;
                                                                                    if (q4 != 16) {
                                                                                        if (q4 == 18) {
                                                                                            i21 = 7;
                                                                                        } else if (q4 != 6 && q4 != 7) {
                                                                                            i21 = -1;
                                                                                        }
                                                                                    }
                                                                                    i69 = i80;
                                                                                    i68 = i21;
                                                                                    i15 = i78;
                                                                                    i19 = i20;
                                                                                    i70 = i19;
                                                                                    i67 = i18;
                                                                                    i66 += i15;
                                                                                    str14 = str5;
                                                                                    i60 = i72;
                                                                                    nw4Var2 = nw4Var;
                                                                                    str13 = str17;
                                                                                    h = i74;
                                                                                    i64 = i16;
                                                                                    jq1Var4 = jq1Var3;
                                                                                    bArr3 = bArr;
                                                                                    f3 = f;
                                                                                    q2 = i17;
                                                                                }
                                                                                i21 = 3;
                                                                                i69 = i80;
                                                                                i68 = i21;
                                                                                i15 = i78;
                                                                                i19 = i20;
                                                                                i70 = i19;
                                                                                i67 = i18;
                                                                                i66 += i15;
                                                                                str14 = str5;
                                                                                i60 = i72;
                                                                                nw4Var2 = nw4Var;
                                                                                str13 = str17;
                                                                                h = i74;
                                                                                i64 = i16;
                                                                                jq1Var4 = jq1Var3;
                                                                                bArr3 = bArr;
                                                                                f3 = f;
                                                                                q2 = i17;
                                                                            } else {
                                                                                i15 = 19;
                                                                            }
                                                                        }
                                                                        i78 = i15;
                                                                        z2 = false;
                                                                        int i792 = eu5.f;
                                                                        if (q3 == 1) {
                                                                        }
                                                                        if (true == z2) {
                                                                        }
                                                                        if (q4 == 1) {
                                                                        }
                                                                        i21 = 3;
                                                                        i69 = i80;
                                                                        i68 = i21;
                                                                        i15 = i78;
                                                                        i19 = i20;
                                                                        i70 = i19;
                                                                        i67 = i18;
                                                                        i66 += i15;
                                                                        str14 = str5;
                                                                        i60 = i72;
                                                                        nw4Var2 = nw4Var;
                                                                        str13 = str17;
                                                                        h = i74;
                                                                        i64 = i16;
                                                                        jq1Var4 = jq1Var3;
                                                                        bArr3 = bArr;
                                                                        f3 = f;
                                                                        q2 = i17;
                                                                    } else {
                                                                        str5 = str14;
                                                                        lb4.c(str5, "Unsupported color type: ".concat(bq1.b(i77)));
                                                                    }
                                                                }
                                                                str5 = str14;
                                                            }
                                                        }
                                                        bArr3 = bArr;
                                                        f3 = f;
                                                        bArr = bArr3;
                                                        f = f3;
                                                        str5 = str14;
                                                        i67 = i18;
                                                        break;
                                                        i66 += i15;
                                                        str14 = str5;
                                                        i60 = i72;
                                                        nw4Var2 = nw4Var;
                                                        str13 = str17;
                                                        h = i74;
                                                        i64 = i16;
                                                        jq1Var4 = jq1Var3;
                                                        bArr3 = bArr;
                                                        f3 = f;
                                                        q2 = i17;
                                                    }
                                                    jq1Var3 = jq1Var4;
                                                    i16 = i64;
                                                    i17 = q2;
                                                    i18 = i67;
                                                    bArr = bArr3;
                                                    f = f3;
                                                    str5 = str14;
                                                    i67 = i18;
                                                    break;
                                                    i66 += i15;
                                                    str14 = str5;
                                                    i60 = i72;
                                                    nw4Var2 = nw4Var;
                                                    str13 = str17;
                                                    h = i74;
                                                    i64 = i16;
                                                    jq1Var4 = jq1Var3;
                                                    bArr3 = bArr;
                                                    f3 = f;
                                                    q2 = i17;
                                                }
                                                i19 = i70;
                                                i70 = i19;
                                                i67 = i18;
                                                i66 += i15;
                                                str14 = str5;
                                                i60 = i72;
                                                nw4Var2 = nw4Var;
                                                str13 = str17;
                                                h = i74;
                                                i64 = i16;
                                                jq1Var4 = jq1Var3;
                                                bArr3 = bArr;
                                                f3 = f;
                                                q2 = i17;
                                            }
                                            str16 = str6;
                                            jq1Var3 = jq1Var4;
                                            i16 = i64;
                                            i17 = q2;
                                            i18 = i67;
                                            nw4Var = list;
                                            str15 = str7;
                                            bArr = bArr3;
                                            f = f3;
                                            str5 = str14;
                                            i67 = i18;
                                            break;
                                            i66 += i15;
                                            str14 = str5;
                                            i60 = i72;
                                            nw4Var2 = nw4Var;
                                            str13 = str17;
                                            h = i74;
                                            i64 = i16;
                                            jq1Var4 = jq1Var3;
                                            bArr3 = bArr;
                                            f3 = f;
                                            q2 = i17;
                                        }
                                        int i81 = i67;
                                        byte[] bArr4 = bArr3;
                                        i9 = i60;
                                        float f4 = f3;
                                        i10 = h;
                                        str4 = str14;
                                        if (str15 == null) {
                                            i12 = i62;
                                            i11 = i63;
                                            jq1Var2 = jq1Var;
                                        } else {
                                            bs1 bs1Var = new bs1();
                                            i11 = i63;
                                            bs1Var.c(i11);
                                            bs1Var.j(str15);
                                            bs1Var.p(str16);
                                            bs1Var.m(q);
                                            bs1Var.b(i8);
                                            bs1Var.g(f4);
                                            i12 = i62;
                                            bs1Var.i(i12);
                                            bs1Var.h(bArr4);
                                            bs1Var.k(i81);
                                            bs1Var.d(nw4Var);
                                            bs1Var.a(al1Var3);
                                            int i82 = i70;
                                            if (i82 == -1) {
                                                i14 = i69;
                                                i13 = i68;
                                                if (i14 == -1) {
                                                    if (i13 == -1) {
                                                    }
                                                }
                                            } else {
                                                i13 = i68;
                                                i14 = i69;
                                            }
                                            bs1Var.q(new eu5(i82, i14, i13, byteBuffer != null ? byteBuffer.array() : null));
                                            if (dq1Var != null) {
                                                j3 = dq1Var.c;
                                                bs1Var.o(tv2.D(j3));
                                                j4 = dq1Var.d;
                                                bs1Var.f(tv2.D(j4));
                                            }
                                            jq1Var2 = jq1Var;
                                            jq1Var2.b = bs1Var.n();
                                        }
                                    } else {
                                        if (i61 == 1836069985 || i61 == 1701733217 || i61 == 1633889587 || i61 == 1700998451 || i61 == 1633889588 || i61 == 1835823201 || i61 == 1685353315 || i61 == 1685353317 || i61 == 1685353320 || i61 == 1685353324 || i61 == 1685353336 || i61 == 1935764850 || i61 == 1935767394 || i61 == 1819304813 || i61 == 1936684916 || i61 == 1953984371 || i61 == 778924082 || i61 == 778924083 || i61 == 1835557169 || i61 == 1835560241 || i61 == 1634492771 || i61 == 1634492791 || i61 == 1970037111 || i61 == 1332770163) {
                                            str2 = str12;
                                            i22 = i49;
                                            i23 = i61;
                                        } else if (i61 == 1716281667) {
                                            str2 = str12;
                                            i22 = i49;
                                            i23 = i61;
                                        } else if (i61 == 1414810956 || i61 == 1954034535 || i61 == 2004251764 || i61 == 1937010800 || i61 == 1664495672) {
                                            kh4Var9.e(h + 16);
                                            long j9 = RecyclerView.FOREVER_NS;
                                            if (i61 == 1414810956) {
                                                str9 = "application/ttml+xml";
                                            } else if (i61 == 1954034535) {
                                                int i83 = i60 - 16;
                                                byte[] bArr5 = new byte[i83];
                                                kh4Var9.a(bArr5, 0, i83);
                                                v = nv4.v(bArr5);
                                                str10 = "application/x-quicktime-tx3g";
                                                j5 = Long.MAX_VALUE;
                                                bs1 bs1Var2 = new bs1();
                                                bs1Var2.c(i49);
                                                bs1Var2.j(str10);
                                                bs1Var2.e(str12);
                                                str2 = str12;
                                                bs1Var2.l(j5);
                                                bs1Var2.d(v);
                                                jq1Var4.b = bs1Var2.n();
                                                i25 = i3;
                                                i24 = i49;
                                                str8 = str11;
                                                i6 = b;
                                                kh4Var = kh4Var9;
                                                pair = e;
                                                zp1Var3 = zp1Var5;
                                                jq1Var2 = jq1Var4;
                                                i9 = i60;
                                                i7 = i58;
                                                i10 = h;
                                                i12 = i25;
                                                i11 = i24;
                                                str4 = str8;
                                            } else if (i61 == 2004251764) {
                                                str9 = "application/x-mp4-vtt";
                                            } else {
                                                if (i61 == 1937010800) {
                                                    str9 = "application/ttml+xml";
                                                    j9 = 0;
                                                } else {
                                                    jq1Var4.d = 1;
                                                    str9 = "application/x-mp4-cea-608";
                                                }
                                                str10 = str9;
                                                j5 = j9;
                                                v = null;
                                                bs1 bs1Var22 = new bs1();
                                                bs1Var22.c(i49);
                                                bs1Var22.j(str10);
                                                bs1Var22.e(str12);
                                                str2 = str12;
                                                bs1Var22.l(j5);
                                                bs1Var22.d(v);
                                                jq1Var4.b = bs1Var22.n();
                                                i25 = i3;
                                                i24 = i49;
                                                str8 = str11;
                                                i6 = b;
                                                kh4Var = kh4Var9;
                                                pair = e;
                                                zp1Var3 = zp1Var5;
                                                jq1Var2 = jq1Var4;
                                                i9 = i60;
                                                i7 = i58;
                                                i10 = h;
                                                i12 = i25;
                                                i11 = i24;
                                                str4 = str8;
                                            }
                                            str10 = str9;
                                            j5 = j9;
                                            v = null;
                                            bs1 bs1Var222 = new bs1();
                                            bs1Var222.c(i49);
                                            bs1Var222.j(str10);
                                            bs1Var222.e(str12);
                                            str2 = str12;
                                            bs1Var222.l(j5);
                                            bs1Var222.d(v);
                                            jq1Var4.b = bs1Var222.n();
                                            i25 = i3;
                                            i24 = i49;
                                            str8 = str11;
                                            i6 = b;
                                            kh4Var = kh4Var9;
                                            pair = e;
                                            zp1Var3 = zp1Var5;
                                            jq1Var2 = jq1Var4;
                                            i9 = i60;
                                            i7 = i58;
                                            i10 = h;
                                            i12 = i25;
                                            i11 = i24;
                                            str4 = str8;
                                        } else {
                                            if (i61 == 1835365492) {
                                                i(kh4Var9, h, i49, jq1Var4);
                                            } else if (i61 == 1667329389) {
                                                bs1 bs1Var3 = new bs1();
                                                bs1Var3.c(i49);
                                                bs1Var3.j("application/x-camera-motion");
                                                jq1Var4.b = bs1Var3.n();
                                            }
                                            i12 = i3;
                                            jq1Var2 = jq1Var4;
                                            str2 = str12;
                                            i11 = i49;
                                            str4 = str11;
                                            i6 = b;
                                            kh4Var = kh4Var9;
                                            pair = e;
                                            zp1Var3 = zp1Var5;
                                            i9 = i60;
                                            i7 = i58;
                                            i10 = h;
                                        }
                                        i25 = i3;
                                        i24 = i22;
                                        str8 = str11;
                                        i6 = b;
                                        kh4Var = kh4Var9;
                                        pair = e;
                                        zp1Var3 = zp1Var5;
                                        h(kh4Var9, i23, h, i60, i24, str2, z, al1Var, jq1Var4, i58);
                                        jq1Var2 = jq1Var4;
                                        i9 = i60;
                                        i7 = i58;
                                        i10 = h;
                                        i12 = i25;
                                        i11 = i24;
                                        str4 = str8;
                                    }
                                    kh4Var.e(i10 + i9);
                                    kh4Var9 = kh4Var;
                                    i58 = i7 + 1;
                                    i3 = i12;
                                    i49 = i11;
                                    str11 = str4;
                                    jq1Var4 = jq1Var2;
                                    i57 = i59;
                                    b = i6;
                                    str12 = str2;
                                    e = pair;
                                    zp1Var5 = zp1Var3;
                                }
                                jq1 jq1Var5 = jq1Var4;
                                int i84 = i49;
                                str = str11;
                                int i85 = b;
                                Pair pair2 = e;
                                i5 = -1;
                                zp1Var2 = zp1Var5;
                                zp1 c4 = zp1Var2.c(1701082227);
                                if (c4 == null || (d2 = d(c4)) == null) {
                                    jArr = null;
                                    jArr2 = null;
                                } else {
                                    jArr = (long[]) d2.first;
                                    jArr2 = (long[]) d2.second;
                                }
                                if (jq1Var5.b == null) {
                                    at4Var2 = at4Var;
                                    xq1Var = null;
                                } else {
                                    xq1Var = new xq1(i84, i85, ((Long) pair2.first).longValue(), u, r, jq1Var5.b, jq1Var5.d, jq1Var5.a, jq1Var5.c, jArr, jArr2);
                                    at4Var2 = at4Var;
                                }
                            } else {
                                i54 = 65536;
                                i55 = -65536;
                            }
                        }
                        i2 = -65536;
                        i53 = 0;
                    } else {
                        i2 = -65536;
                    }
                    if (i53 == 0) {
                        if (i54 == i2) {
                            if (i55 == 65536) {
                                if (i56 == 0) {
                                    i3 = 270;
                                    if (j == -9223372036854775807L) {
                                    }
                                    kh4 kh4Var82 = d3.b;
                                    kh4Var82.e(8);
                                    kh4Var82.f(bq1.a(kh4Var82.i()) == 0 ? 8 : 16);
                                    long u4 = kh4Var82.u();
                                    if (j8 != -9223372036854775807L) {
                                    }
                                    zp1 c22 = c.c(1835626086);
                                    c22.getClass();
                                    zp1 c32 = c22.c(1937007212);
                                    c32.getClass();
                                    aq1 d62 = c.d(1835296868);
                                    d62.getClass();
                                    Pair e2 = e(d62.b);
                                    d = c32.d(1937011556);
                                    if (d == null) {
                                    }
                                } else {
                                    i55 = 65536;
                                }
                            }
                            i4 = -65536;
                        } else {
                            i4 = i54;
                        }
                        i54 = i4;
                        i53 = 0;
                    }
                    i3 = (i53 == i2 && i54 == 0 && i55 == 0 && i56 == i2) ? 180 : 0;
                    if (j == -9223372036854775807L) {
                    }
                    kh4 kh4Var822 = d3.b;
                    kh4Var822.e(8);
                    kh4Var822.f(bq1.a(kh4Var822.i()) == 0 ? 8 : 16);
                    long u42 = kh4Var822.u();
                    if (j8 != -9223372036854775807L) {
                    }
                    zp1 c222 = c.c(1835626086);
                    c222.getClass();
                    zp1 c322 = c222.c(1937007212);
                    c322.getClass();
                    aq1 d622 = c.d(1835296868);
                    d622.getClass();
                    Pair e22 = e(d622.b);
                    d = c322.d(1937011556);
                    if (d == null) {
                    }
                }
                xq1 xq1Var2 = (xq1) at4Var2.apply(xq1Var);
                if (xq1Var2 != null) {
                    zp1 c5 = zp1Var2.c(1835297121);
                    c5.getClass();
                    zp1 c6 = c5.c(1835626086);
                    c6.getClass();
                    zp1 c7 = c6.c(1937007212);
                    c7.getClass();
                    aq1 d7 = c7.d(1937011578);
                    if (d7 != null) {
                        lq1Var = new kq1(d7, xq1Var2.f);
                    } else {
                        aq1 d8 = c7.d(1937013298);
                        if (d8 == null) {
                            throw jy2.a("Track has no sample table size information", null);
                        }
                        lq1Var = new lq1(d8);
                    }
                    int c8 = lq1Var.c();
                    if (c8 == 0) {
                        ar1Var = new ar1(xq1Var2, new long[0], new int[0], 0, new long[0], new int[0], 0L);
                    } else {
                        aq1 d9 = c7.d(1937007471);
                        if (d9 == null) {
                            d9 = c7.d(1668232756);
                            d9.getClass();
                            z3 = true;
                        } else {
                            z3 = false;
                        }
                        kh4 kh4Var10 = d9.b;
                        aq1 d10 = c7.d(1937011555);
                        d10.getClass();
                        kh4 kh4Var11 = d10.b;
                        aq1 d11 = c7.d(1937011827);
                        d11.getClass();
                        kh4 kh4Var12 = d11.b;
                        aq1 d12 = c7.d(1937011571);
                        kh4 kh4Var13 = d12 != null ? d12.b : null;
                        aq1 d13 = c7.d(1668576371);
                        kh4 kh4Var14 = d13 != null ? d13.b : null;
                        cq1 cq1Var = new cq1(kh4Var11, kh4Var10, z3);
                        kh4Var12.e(12);
                        int p = kh4Var12.p() + i5;
                        int p2 = kh4Var12.p();
                        int p3 = kh4Var12.p();
                        if (kh4Var14 != null) {
                            kh4Var14.e(12);
                            i26 = kh4Var14.p();
                        } else {
                            i26 = 0;
                        }
                        if (kh4Var13 != null) {
                            kh4Var13.e(12);
                            i27 = kh4Var13.p();
                            if (i27 > 0) {
                                kh4Var2 = kh4Var13;
                                i28 = i27;
                                i29 = kh4Var13.p() - 1;
                                a2 = lq1Var.a();
                                String str18 = xq1Var2.f.k;
                                if (a2 != i5 && (("audio/raw".equals(str18) || "audio/g711-mlaw".equals(str18) || "audio/g711-alaw".equals(str18)) && p == 0)) {
                                    if (i26 == 0 || i28 != 0) {
                                        p = 0;
                                    } else {
                                        int i86 = cq1Var.a;
                                        long[] jArr11 = new long[i86];
                                        int[] iArr8 = new int[i86];
                                        while (cq1Var.a()) {
                                            int i87 = cq1Var.b;
                                            jArr11[i87] = cq1Var.d;
                                            iArr8[i87] = cq1Var.c;
                                        }
                                        long j10 = p3;
                                        int i88 = 8192 / a2;
                                        int i89 = 0;
                                        for (int i90 = 0; i90 < i86; i90++) {
                                            int i91 = iArr8[i90];
                                            int i92 = zn4.a;
                                            i89 += ((i91 + i88) - 1) / i88;
                                        }
                                        long[] jArr12 = new long[i89];
                                        int[] iArr9 = new int[i89];
                                        long[] jArr13 = new long[i89];
                                        int[] iArr10 = new int[i89];
                                        int i93 = 0;
                                        int i94 = 0;
                                        int i95 = 0;
                                        int i96 = 0;
                                        while (i93 < i86) {
                                            int i97 = iArr8[i93];
                                            long j11 = jArr11[i93];
                                            int i98 = i86;
                                            int i99 = i97;
                                            while (i99 > 0) {
                                                int min = Math.min(i88, i99);
                                                jArr12[i96] = j11;
                                                long[] jArr14 = jArr11;
                                                int i100 = a2 * min;
                                                iArr9[i96] = i100;
                                                i95 = Math.max(i95, i100);
                                                jArr13[i96] = i94 * j10;
                                                iArr10[i96] = 1;
                                                j11 += iArr9[i96];
                                                i94 += min;
                                                i99 -= min;
                                                i96++;
                                                a2 = a2;
                                                jArr11 = jArr14;
                                                iArr8 = iArr8;
                                            }
                                            i93++;
                                            i86 = i98;
                                            jArr11 = jArr11;
                                        }
                                        j7 = j10 * i94;
                                        iArr3 = iArr9;
                                        jArr5 = jArr13;
                                        i40 = i95;
                                        jArr6 = jArr12;
                                        iArr4 = iArr10;
                                        long r2 = zn4.r(j7, 1000000L, xq1Var2.c);
                                        jArr8 = xq1Var2.h;
                                        if (jArr8 == null) {
                                            zn4.a(jArr5, xq1Var2.c);
                                            ar1Var = new ar1(xq1Var2, jArr6, iArr3, i40, jArr5, iArr4, r2);
                                        } else {
                                            int[] iArr11 = iArr4;
                                            if (jArr8.length == 1 && xq1Var2.b == 1 && jArr5.length >= 2) {
                                                long[] jArr15 = xq1Var2.i;
                                                jArr15.getClass();
                                                long j12 = jArr15[0];
                                                long r3 = zn4.r(jArr8[0], xq1Var2.c, xq1Var2.d) + j12;
                                                iArr5 = iArr3;
                                                jArr9 = jArr5;
                                                jArr10 = jArr6;
                                                if (j(jArr5, j7, j12, r3)) {
                                                    long j13 = j7 - r3;
                                                    long r4 = zn4.r(j12 - jArr9[0], xq1Var2.f.y, xq1Var2.c);
                                                    long r5 = zn4.r(j13, xq1Var2.f.y, xq1Var2.c);
                                                    if (r4 == 0) {
                                                        if (r5 != 0) {
                                                            r4 = 0;
                                                        }
                                                    }
                                                    if (r4 <= 2147483647L && r5 <= 2147483647L) {
                                                        uk1Var.a = (int) r4;
                                                        uk1Var.b = (int) r5;
                                                        zn4.a(jArr9, xq1Var2.c);
                                                        ar1Var = new ar1(xq1Var2, jArr10, iArr5, i40, jArr9, iArr11, zn4.r(xq1Var2.h[0], 1000000L, xq1Var2.d));
                                                    }
                                                }
                                            } else {
                                                iArr5 = iArr3;
                                                jArr9 = jArr5;
                                                jArr10 = jArr6;
                                            }
                                            long[] jArr16 = xq1Var2.h;
                                            int length = jArr16.length;
                                            if (length != 1) {
                                                i44 = length;
                                            } else if (jArr16[0] == 0) {
                                                long[] jArr17 = xq1Var2.i;
                                                jArr17.getClass();
                                                long j14 = jArr17[0];
                                                for (int i101 = 0; i101 < jArr9.length; i101++) {
                                                    jArr9[i101] = zn4.r(jArr9[i101] - j14, 1000000L, xq1Var2.c);
                                                }
                                                ar1Var = new ar1(xq1Var2, jArr10, iArr5, i40, jArr9, iArr11, zn4.r(j7 - j14, 1000000L, xq1Var2.c));
                                                arrayList2 = arrayList;
                                                arrayList2.add(ar1Var);
                                                i48 = i + 1;
                                                zp1Var4 = zp1Var;
                                                arrayList3 = arrayList2;
                                            } else {
                                                i44 = 1;
                                            }
                                            boolean z6 = xq1Var2.b == 1;
                                            int[] iArr12 = new int[i44];
                                            int[] iArr13 = new int[i44];
                                            long[] jArr18 = xq1Var2.i;
                                            jArr18.getClass();
                                            int i102 = 0;
                                            boolean z7 = false;
                                            int i103 = 0;
                                            int i104 = 0;
                                            while (true) {
                                                long[] jArr19 = xq1Var2.h;
                                                if (i102 >= jArr19.length) {
                                                    break;
                                                }
                                                long j15 = jArr18[i102];
                                                if (j15 != -1) {
                                                    int i105 = i104;
                                                    i45 = c8;
                                                    long r6 = zn4.r(jArr19[i102], xq1Var2.c, xq1Var2.d);
                                                    int i106 = 1;
                                                    iArr12[i102] = zn4.i(jArr9, j15, true);
                                                    long j16 = j15 + r6;
                                                    int binarySearch = Arrays.binarySearch(jArr9, j16);
                                                    if (binarySearch < 0) {
                                                        binarySearch ^= -1;
                                                    } else {
                                                        while (true) {
                                                            binarySearch += i106;
                                                            if (binarySearch >= jArr9.length || jArr9[binarySearch] != j16) {
                                                                break;
                                                            }
                                                            i106 = 1;
                                                        }
                                                        if (z6) {
                                                            binarySearch--;
                                                        }
                                                    }
                                                    iArr13[i102] = binarySearch;
                                                    while (true) {
                                                        i46 = iArr12[i102];
                                                        i47 = iArr13[i102];
                                                        if (i46 >= i47 || (iArr11[i46] & 1) != 0) {
                                                            break;
                                                        }
                                                        iArr12[i102] = i46 + 1;
                                                    }
                                                    int i107 = (i47 - i46) + i103;
                                                    z7 = (i105 != i46) | z7;
                                                    i103 = i107;
                                                    i104 = i47;
                                                } else {
                                                    i45 = c8;
                                                }
                                                i102++;
                                                c8 = i45;
                                            }
                                            boolean z8 = (i103 != c8) | z7;
                                            long[] jArr20 = z8 ? new long[i103] : jArr10;
                                            int[] iArr14 = z8 ? new int[i103] : iArr5;
                                            if (true == z8) {
                                                i40 = 0;
                                            }
                                            int[] iArr15 = z8 ? new int[i103] : iArr11;
                                            long[] jArr21 = new long[i103];
                                            int i108 = i40;
                                            int i109 = 0;
                                            int i110 = 0;
                                            long j17 = 0;
                                            while (i109 < xq1Var2.h.length) {
                                                long j18 = xq1Var2.i[i109];
                                                int i111 = iArr12[i109];
                                                int i112 = iArr13[i109];
                                                int[] iArr16 = iArr12;
                                                if (z8) {
                                                    int i113 = i112 - i111;
                                                    iArr6 = iArr13;
                                                    System.arraycopy(jArr10, i111, jArr20, i110, i113);
                                                    iArr7 = iArr5;
                                                    System.arraycopy(iArr7, i111, iArr14, i110, i113);
                                                    System.arraycopy(iArr11, i111, iArr15, i110, i113);
                                                } else {
                                                    iArr6 = iArr13;
                                                    iArr7 = iArr5;
                                                }
                                                while (i111 < i112) {
                                                    long[] jArr22 = jArr20;
                                                    int i114 = i112;
                                                    long[] jArr23 = jArr9;
                                                    int[] iArr17 = iArr11;
                                                    int[] iArr18 = iArr15;
                                                    long j19 = j17;
                                                    jArr21[i110] = zn4.r(j17, 1000000L, xq1Var2.d) + zn4.r(Math.max(0L, jArr9[i111] - j18), 1000000L, xq1Var2.c);
                                                    if (z8 && iArr14[i110] > i108) {
                                                        i108 = iArr7[i111];
                                                    }
                                                    i110++;
                                                    i111++;
                                                    jArr20 = jArr22;
                                                    i112 = i114;
                                                    j17 = j19;
                                                    iArr11 = iArr17;
                                                    jArr9 = jArr23;
                                                    iArr15 = iArr18;
                                                }
                                                long[] jArr24 = jArr9;
                                                long j20 = j17 + xq1Var2.h[i109];
                                                i109++;
                                                jArr20 = jArr20;
                                                iArr5 = iArr7;
                                                j17 = j20;
                                                iArr12 = iArr16;
                                                iArr11 = iArr11;
                                                jArr9 = jArr24;
                                                iArr13 = iArr6;
                                                iArr15 = iArr15;
                                            }
                                            ar1Var = new ar1(xq1Var2, jArr20, iArr14, i108, jArr21, iArr15, zn4.r(j17, 1000000L, xq1Var2.d));
                                            arrayList2 = arrayList;
                                            arrayList2.add(ar1Var);
                                            i48 = i + 1;
                                            zp1Var4 = zp1Var;
                                            arrayList3 = arrayList2;
                                        }
                                    }
                                }
                                jArr3 = new long[c8];
                                iArr = new int[c8];
                                long[] jArr25 = new long[c8];
                                int i115 = i29;
                                int[] iArr19 = new int[c8];
                                int i116 = p;
                                int i117 = p2;
                                i30 = i28;
                                int i118 = i26;
                                int i119 = i115;
                                i31 = 0;
                                int i120 = 0;
                                int i121 = 0;
                                i32 = 0;
                                int i122 = 0;
                                j6 = 0;
                                long j21 = 0;
                                while (true) {
                                    if (i31 < c8) {
                                        kh4Var3 = kh4Var14;
                                        i33 = i32;
                                        break;
                                    }
                                    i33 = i32;
                                    boolean z9 = true;
                                    while (true) {
                                        if (i33 != 0) {
                                            i41 = c8;
                                            kh4Var4 = kh4Var12;
                                            i42 = i120;
                                            i43 = i33;
                                            break;
                                        }
                                        z9 = cq1Var.a();
                                        if (!z9) {
                                            i41 = c8;
                                            kh4Var4 = kh4Var12;
                                            i42 = i120;
                                            i43 = 0;
                                            break;
                                        }
                                        kh4 kh4Var15 = kh4Var12;
                                        long j22 = cq1Var.d;
                                        i33 = cq1Var.c;
                                        j6 = j22;
                                        kh4Var12 = kh4Var15;
                                        i120 = i120;
                                        c8 = c8;
                                    }
                                    if (!z9) {
                                        lb4.c(str, "Unexpected end of chunk data");
                                        jArr3 = Arrays.copyOf(jArr3, i31);
                                        iArr = Arrays.copyOf(iArr, i31);
                                        jArr25 = Arrays.copyOf(jArr25, i31);
                                        iArr19 = Arrays.copyOf(iArr19, i31);
                                        kh4Var3 = kh4Var14;
                                        c8 = i31;
                                        i120 = i42;
                                        break;
                                    }
                                    i120 = i42;
                                    if (kh4Var14 != null) {
                                        while (true) {
                                            if (i122 != 0) {
                                                break;
                                            }
                                            if (i118 <= 0) {
                                                i122 = 0;
                                                break;
                                            }
                                            i118--;
                                            i122 = kh4Var14.p();
                                            i120 = kh4Var14.i();
                                        }
                                        i122--;
                                    }
                                    jArr3[i31] = j6;
                                    int d14 = lq1Var.d();
                                    iArr[i31] = d14;
                                    if (d14 > i121) {
                                        jArr7 = jArr3;
                                        i121 = d14;
                                        kh4Var5 = kh4Var14;
                                    } else {
                                        kh4Var5 = kh4Var14;
                                        jArr7 = jArr3;
                                    }
                                    jArr25[i31] = j21 + i120;
                                    iArr19[i31] = kh4Var2 == null ? 1 : 0;
                                    if (i31 == i119) {
                                        iArr19[i31] = 1;
                                        i30--;
                                        if (i30 > 0) {
                                            kh4Var2.getClass();
                                            i119 = kh4Var2.p() - 1;
                                        }
                                    }
                                    j21 += p3;
                                    int i123 = i117 - 1;
                                    if (i123 != 0) {
                                        i117 = i123;
                                    } else if (i116 > 0) {
                                        i116--;
                                        i117 = kh4Var4.p();
                                        p3 = kh4Var4.i();
                                    } else {
                                        i117 = 0;
                                    }
                                    j6 += iArr[i31];
                                    i32 = i43 - 1;
                                    i31++;
                                    kh4Var14 = kh4Var5;
                                    jArr3 = jArr7;
                                    kh4Var12 = kh4Var4;
                                    c8 = i41;
                                }
                                long j23 = j21 + i120;
                                if (kh4Var3 != null) {
                                    while (i118 > 0) {
                                        if (kh4Var3.p() != 0) {
                                            z4 = false;
                                            break;
                                        }
                                        kh4Var3.i();
                                        i118--;
                                    }
                                }
                                z4 = true;
                                if (i30 == 0) {
                                    if (i117 == 0) {
                                        if (i33 == 0) {
                                            if (i116 == 0) {
                                                if (i122 != 0) {
                                                    i116 = 0;
                                                } else if (z4) {
                                                    jArr4 = jArr3;
                                                    i39 = c8;
                                                    iArr2 = iArr;
                                                    jArr5 = jArr25;
                                                    j7 = j23;
                                                    c8 = i39;
                                                    iArr3 = iArr2;
                                                    iArr4 = iArr19;
                                                    i40 = i121;
                                                    jArr6 = jArr4;
                                                    long r22 = zn4.r(j7, 1000000L, xq1Var2.c);
                                                    jArr8 = xq1Var2.h;
                                                    if (jArr8 == null) {
                                                    }
                                                } else {
                                                    z4 = false;
                                                    i116 = 0;
                                                    i122 = 0;
                                                }
                                            }
                                            i33 = 0;
                                        }
                                        jArr4 = jArr3;
                                        i35 = i116;
                                        i36 = i122;
                                        i38 = i33;
                                        i37 = 0;
                                        i34 = 0;
                                        int i124 = xq1Var2.a;
                                        i39 = c8;
                                        StringBuilder sb = new StringBuilder();
                                        iArr2 = iArr;
                                        sb.append("Inconsistent stbl box for track ");
                                        sb.append(i124);
                                        sb.append(": remainingSynchronizationSamples ");
                                        sb.append(i37);
                                        sb.append(", remainingSamplesAtTimestampDelta ");
                                        sb.append(i34);
                                        sb.append(", remainingSamplesInChunk ");
                                        sb.append(i38);
                                        sb.append(", remainingTimestampDeltaChanges ");
                                        sb.append(i35);
                                        sb.append(", remainingSamplesAtTimestampOffset ");
                                        sb.append(i36);
                                        sb.append(true != z4 ? ", ctts invalid" : "");
                                        lb4.c(str, sb.toString());
                                        jArr5 = jArr25;
                                        j7 = j23;
                                        c8 = i39;
                                        iArr3 = iArr2;
                                        iArr4 = iArr19;
                                        i40 = i121;
                                        jArr6 = jArr4;
                                        long r222 = zn4.r(j7, 1000000L, xq1Var2.c);
                                        jArr8 = xq1Var2.h;
                                        if (jArr8 == null) {
                                        }
                                    } else {
                                        i30 = 0;
                                    }
                                }
                                jArr4 = jArr3;
                                i34 = i117;
                                i35 = i116;
                                i36 = i122;
                                i37 = i30;
                                i38 = i33;
                                int i1242 = xq1Var2.a;
                                i39 = c8;
                                StringBuilder sb2 = new StringBuilder();
                                iArr2 = iArr;
                                sb2.append("Inconsistent stbl box for track ");
                                sb2.append(i1242);
                                sb2.append(": remainingSynchronizationSamples ");
                                sb2.append(i37);
                                sb2.append(", remainingSamplesAtTimestampDelta ");
                                sb2.append(i34);
                                sb2.append(", remainingSamplesInChunk ");
                                sb2.append(i38);
                                sb2.append(", remainingTimestampDeltaChanges ");
                                sb2.append(i35);
                                sb2.append(", remainingSamplesAtTimestampOffset ");
                                sb2.append(i36);
                                sb2.append(true != z4 ? ", ctts invalid" : "");
                                lb4.c(str, sb2.toString());
                                jArr5 = jArr25;
                                j7 = j23;
                                c8 = i39;
                                iArr3 = iArr2;
                                iArr4 = iArr19;
                                i40 = i121;
                                jArr6 = jArr4;
                                long r2222 = zn4.r(j7, 1000000L, xq1Var2.c);
                                jArr8 = xq1Var2.h;
                                if (jArr8 == null) {
                                }
                            } else {
                                kh4Var2 = null;
                            }
                        } else {
                            kh4Var2 = kh4Var13;
                            i27 = 0;
                        }
                        i28 = i27;
                        i29 = -1;
                        a2 = lq1Var.a();
                        String str182 = xq1Var2.f.k;
                        if (a2 != i5) {
                            if (i26 == 0) {
                            }
                            p = 0;
                        }
                        jArr3 = new long[c8];
                        iArr = new int[c8];
                        long[] jArr252 = new long[c8];
                        int i1152 = i29;
                        int[] iArr192 = new int[c8];
                        int i1162 = p;
                        int i1172 = p2;
                        i30 = i28;
                        int i1182 = i26;
                        int i1192 = i1152;
                        i31 = 0;
                        int i1202 = 0;
                        int i1212 = 0;
                        i32 = 0;
                        int i1222 = 0;
                        j6 = 0;
                        long j212 = 0;
                        while (true) {
                            if (i31 < c8) {
                            }
                            j6 += iArr[i31];
                            i32 = i43 - 1;
                            i31++;
                            kh4Var14 = kh4Var5;
                            jArr3 = jArr7;
                            kh4Var12 = kh4Var4;
                            c8 = i41;
                        }
                        long j232 = j212 + i1202;
                        if (kh4Var3 != null) {
                        }
                        z4 = true;
                        if (i30 == 0) {
                        }
                        jArr4 = jArr3;
                        i34 = i1172;
                        i35 = i1162;
                        i36 = i1222;
                        i37 = i30;
                        i38 = i33;
                        int i12422 = xq1Var2.a;
                        i39 = c8;
                        StringBuilder sb22 = new StringBuilder();
                        iArr2 = iArr;
                        sb22.append("Inconsistent stbl box for track ");
                        sb22.append(i12422);
                        sb22.append(": remainingSynchronizationSamples ");
                        sb22.append(i37);
                        sb22.append(", remainingSamplesAtTimestampDelta ");
                        sb22.append(i34);
                        sb22.append(", remainingSamplesInChunk ");
                        sb22.append(i38);
                        sb22.append(", remainingTimestampDeltaChanges ");
                        sb22.append(i35);
                        sb22.append(", remainingSamplesAtTimestampOffset ");
                        sb22.append(i36);
                        sb22.append(true != z4 ? ", ctts invalid" : "");
                        lb4.c(str, sb22.toString());
                        jArr5 = jArr252;
                        j7 = j232;
                        c8 = i39;
                        iArr3 = iArr2;
                        iArr4 = iArr192;
                        i40 = i1212;
                        jArr6 = jArr4;
                        long r22222 = zn4.r(j7, 1000000L, xq1Var2.c);
                        jArr8 = xq1Var2.h;
                        if (jArr8 == null) {
                        }
                    }
                    arrayList2 = arrayList;
                    arrayList2.add(ar1Var);
                    i48 = i + 1;
                    zp1Var4 = zp1Var;
                    arrayList3 = arrayList2;
                } else {
                    arrayList2 = arrayList;
                }
            }
            i48 = i + 1;
            zp1Var4 = zp1Var;
            arrayList3 = arrayList2;
        }
        return arrayList3;
    }

    public static int b(int i) {
        if (i == 1936684398) {
            return 1;
        }
        if (i == 1986618469) {
            return 2;
        }
        if (i == 1952807028 || i == 1935832172 || i == 1937072756 || i == 1668047728) {
            return 3;
        }
        return i == 1835365473 ? 5 : -1;
    }

    public static int c(kh4 kh4Var) {
        int n = kh4Var.n();
        int i = n & 127;
        while ((n & 128) == 128) {
            n = kh4Var.n();
            i = (i << 7) | (n & 127);
        }
        return i;
    }

    public static Pair d(zp1 zp1Var) {
        aq1 d = zp1Var.d(1701606260);
        if (d == null) {
            return null;
        }
        kh4 kh4Var = d.b;
        kh4Var.e(8);
        int i = (kh4Var.i() >> 24) & 255;
        int p = kh4Var.p();
        long[] jArr = new long[p];
        long[] jArr2 = new long[p];
        for (int i2 = 0; i2 < p; i2++) {
            jArr[i2] = i == 1 ? kh4Var.v() : kh4Var.u();
            jArr2[i2] = i == 1 ? kh4Var.t() : kh4Var.i();
            if (kh4Var.A() != 1) {
                throw new IllegalArgumentException("Unsupported media rate.");
            }
            kh4Var.f(2);
        }
        return Pair.create(jArr, jArr2);
    }

    public static Pair e(kh4 kh4Var) {
        kh4Var.e(8);
        int i = (kh4Var.i() >> 24) & 255;
        kh4Var.f(i == 0 ? 8 : 16);
        long u = kh4Var.u();
        kh4Var.f(i == 0 ? 4 : 8);
        int q = kh4Var.q();
        StringBuilder sb = new StringBuilder();
        sb.append((char) (((q >> 10) & 31) + 96));
        sb.append((char) (((q >> 5) & 31) + 96));
        sb.append((char) ((q & 31) + 96));
        return Pair.create(Long.valueOf(u), sb.toString());
    }

    public static Pair f(kh4 kh4Var, int i, int i2) {
        boolean z;
        boolean z2;
        boolean z3;
        Integer num;
        yq1 yq1Var;
        Pair create;
        int i3;
        int i4;
        boolean z4;
        byte[] bArr;
        int i5 = kh4Var.b;
        while (i5 - i < i2) {
            kh4Var.e(i5);
            int i6 = kh4Var.i();
            boolean z5 = true;
            if (i6 > 0) {
                z = true;
            } else {
                z = false;
            }
            uf0.j("childAtomSize must be positive", z);
            if (kh4Var.i() == 1936289382) {
                int i7 = i5 + 8;
                int i8 = -1;
                int i9 = 0;
                String str = null;
                Integer num2 = null;
                while (i7 - i5 < i6) {
                    kh4Var.e(i7);
                    int i10 = kh4Var.i();
                    int i11 = kh4Var.i();
                    if (i11 == 1718775137) {
                        num2 = Integer.valueOf(kh4Var.i());
                    } else if (i11 == 1935894637) {
                        kh4Var.f(4);
                        str = kh4Var.z(4, zs4.c);
                    } else if (i11 == 1935894633) {
                        i8 = i7;
                        i9 = i10;
                    }
                    i7 += i10;
                }
                if (!"cenc".equals(str) && !"cbc1".equals(str) && !"cens".equals(str) && !"cbcs".equals(str)) {
                    create = null;
                } else {
                    if (num2 != null) {
                        z2 = true;
                    } else {
                        z2 = false;
                    }
                    uf0.j("frma atom is mandatory", z2);
                    if (i8 != -1) {
                        z3 = true;
                    } else {
                        z3 = false;
                    }
                    uf0.j("schi atom is mandatory", z3);
                    int i12 = i8 + 8;
                    while (true) {
                        if (i12 - i8 < i9) {
                            kh4Var.e(i12);
                            int i13 = kh4Var.i();
                            if (kh4Var.i() == 1952804451) {
                                int i14 = (kh4Var.i() >> 24) & 255;
                                kh4Var.f(1);
                                if (i14 == 0) {
                                    kh4Var.f(1);
                                    i3 = 0;
                                    i4 = 0;
                                } else {
                                    int n = kh4Var.n();
                                    int i15 = n & 240;
                                    i3 = n & 15;
                                    i4 = i15 >> 4;
                                }
                                if (kh4Var.n() == 1) {
                                    z4 = true;
                                } else {
                                    z4 = false;
                                }
                                int n2 = kh4Var.n();
                                byte[] bArr2 = new byte[16];
                                kh4Var.a(bArr2, 0, 16);
                                if (z4 && n2 == 0) {
                                    int n3 = kh4Var.n();
                                    byte[] bArr3 = new byte[n3];
                                    kh4Var.a(bArr3, 0, n3);
                                    bArr = bArr3;
                                } else {
                                    bArr = null;
                                }
                                num = num2;
                                yq1Var = new yq1(z4, str, n2, bArr2, i4, i3, bArr);
                            } else {
                                i12 += i13;
                            }
                        } else {
                            num = num2;
                            yq1Var = null;
                            break;
                        }
                    }
                    if (yq1Var == null) {
                        z5 = false;
                    }
                    uf0.j("tenc atom is mandatory", z5);
                    int i16 = zn4.a;
                    create = Pair.create(num, yq1Var);
                }
                if (create != null) {
                    return create;
                }
            }
            i5 += i6;
        }
        return null;
    }

    public static dq1 g(int i, kh4 kh4Var) {
        kh4Var.e(i + 12);
        kh4Var.f(1);
        c(kh4Var);
        kh4Var.f(2);
        int n = kh4Var.n();
        if ((n & 128) != 0) {
            kh4Var.f(2);
        }
        if ((n & 64) != 0) {
            kh4Var.f(kh4Var.n());
        }
        if ((n & 32) != 0) {
            kh4Var.f(2);
        }
        kh4Var.f(1);
        c(kh4Var);
        String c = mx2.c(kh4Var.n());
        if ("audio/mpeg".equals(c) || "audio/vnd.dts".equals(c) || "audio/vnd.dts.hd".equals(c)) {
            return new dq1(c, null, -1L, -1L);
        }
        kh4Var.f(4);
        long u = kh4Var.u();
        long u2 = kh4Var.u();
        kh4Var.f(1);
        int c2 = c(kh4Var);
        byte[] bArr = new byte[c2];
        kh4Var.a(bArr, 0, c2);
        return new dq1(c, bArr, u2 <= 0 ? -1L : u2, u > 0 ? u : -1L);
    }

    /* JADX WARN: Removed duplicated region for block: B:102:0x017c  */
    /* JADX WARN: Removed duplicated region for block: B:160:0x0325  */
    /* JADX WARN: Removed duplicated region for block: B:161:0x0327  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public static void h(kh4 kh4Var, int i, int i2, int i3, int i4, String str, boolean z, al1 al1Var, jq1 jq1Var, int i5) {
        int i6;
        int q;
        int i7;
        int i8;
        String str2;
        int i9;
        String str3;
        int i10;
        int i11;
        int i12;
        int i13;
        int i14;
        cu1 cu1Var;
        String str4;
        String str5;
        boolean z2;
        int i15 = i2;
        int i16 = i3;
        al1 al1Var2 = al1Var;
        kh4Var.e(i15 + 16);
        if (z) {
            i6 = kh4Var.q();
            kh4Var.f(6);
        } else {
            kh4Var.f(8);
            i6 = 0;
        }
        if (i6 == 0 || i6 == 1) {
            q = kh4Var.q();
            kh4Var.f(6);
            byte[] bArr = kh4Var.a;
            int i17 = kh4Var.b;
            int i18 = i17 + 1;
            int i19 = i18 + 1 + 2;
            kh4Var.b = i19;
            int i20 = ((bArr[i17] & 255) << 8) | (bArr[i18] & 255);
            kh4Var.e(i19 - 4);
            i7 = kh4Var.i();
            if (i6 == 1) {
                kh4Var.f(16);
            }
            i8 = i20;
        } else if (i6 != 2) {
            return;
        } else {
            kh4Var.f(16);
            i8 = (int) Math.round(Double.longBitsToDouble(kh4Var.t()));
            q = kh4Var.p();
            kh4Var.f(20);
            i7 = 0;
        }
        int i21 = kh4Var.b;
        int i22 = 1701733217;
        if (i == 1701733217) {
            Pair f = f(kh4Var, i15, i16);
            if (f != null) {
                i22 = ((Integer) f.first).intValue();
                al1Var2 = al1Var2 == null ? null : al1Var2.a(((yq1) f.second).b);
                jq1Var.a[i5] = (yq1) f.second;
            }
            kh4Var.e(i21);
        } else {
            i22 = i;
        }
        String str6 = "audio/ac3";
        String str7 = "audio/raw";
        if (i22 == 1633889587) {
            str2 = "audio/ac3";
        } else if (i22 == 1700998451) {
            str2 = "audio/eac3";
        } else if (i22 == 1633889588) {
            str2 = "audio/ac4";
        } else if (i22 == 1685353315) {
            str2 = "audio/vnd.dts";
        } else if (i22 == 1685353320 || i22 == 1685353324) {
            str2 = "audio/vnd.dts.hd";
        } else if (i22 == 1685353317) {
            str2 = "audio/vnd.dts.hd;profile=lbr";
        } else if (i22 == 1685353336) {
            str2 = "audio/vnd.dts.uhd;profile=p2";
        } else if (i22 == 1935764850) {
            str2 = "audio/3gpp";
        } else if (i22 != 1935767394) {
            if (i22 == 1819304813 || i22 == 1936684916) {
                i9 = 2;
            } else if (i22 == 1953984371) {
                i9 = 268435456;
            } else if (i22 == 778924082 || i22 == 778924083) {
                str2 = "audio/mpeg";
            } else if (i22 == 1835557169) {
                str2 = "audio/mha1";
            } else if (i22 == 1835560241) {
                str2 = "audio/mhm1";
            } else if (i22 == 1634492771) {
                str2 = "audio/alac";
            } else if (i22 == 1634492791) {
                str2 = "audio/g711-alaw";
            } else if (i22 == 1970037111) {
                str2 = "audio/g711-mlaw";
            } else if (i22 == 1332770163) {
                str2 = "audio/opus";
            } else if (i22 == 1716281667) {
                str2 = "audio/flac";
            } else if (i22 == 1835823201) {
                str2 = "audio/true-hd";
            } else {
                i9 = -1;
                str7 = null;
            }
            String str8 = str7;
            String str9 = null;
            List list = null;
            dq1 dq1Var = null;
            while (i21 - i15 < i16) {
                kh4Var.e(i21);
                int i23 = kh4Var.i();
                String str10 = "childAtomSize must be positive";
                uf0.j("childAtomSize must be positive", i23 > 0);
                int i24 = kh4Var.i();
                int i25 = i9;
                if (i24 == 1835557187) {
                    int i26 = i23 - 13;
                    byte[] bArr2 = new byte[i26];
                    kh4Var.e(i21 + 13);
                    kh4Var.a(bArr2, 0, i26);
                    list = nv4.v(bArr2);
                    str3 = str6;
                    i10 = i23;
                } else {
                    if (i24 == 1702061171) {
                        str3 = str6;
                        i10 = i23;
                        i11 = i21;
                        i12 = -1;
                    } else if (z && i24 == 2002876005) {
                        int i27 = kh4Var.b;
                        if (i27 >= i21) {
                            str5 = null;
                            z2 = true;
                        } else {
                            str5 = null;
                            z2 = false;
                        }
                        uf0.j(str5, z2);
                        i11 = i27;
                        while (true) {
                            if (i11 - i21 >= i23) {
                                i10 = i23;
                                i11 = -1;
                                break;
                            }
                            kh4Var.e(i11);
                            int i28 = kh4Var.i();
                            i10 = i23;
                            uf0.j(str10, i28 > 0);
                            String str11 = str10;
                            if (kh4Var.i() == 1702061171) {
                                break;
                            }
                            i11 += i28;
                            i23 = i10;
                            str10 = str11;
                        }
                        str3 = str6;
                        i12 = -1;
                    } else {
                        i10 = i23;
                        if (i24 == 1684103987) {
                            kh4Var.e(i21 + 8);
                            String num = Integer.toString(i4);
                            eh4 eh4Var = new eh4();
                            byte[] bArr3 = kh4Var.a;
                            int i29 = kh4Var.c;
                            eh4Var.a = bArr3;
                            eh4Var.b = 0;
                            eh4Var.c = 0;
                            eh4Var.d = i29;
                            eh4Var.e(kh4Var.b * 8);
                            int i30 = da2.X[eh4Var.b(2)];
                            eh4Var.g(8);
                            i14 = i8;
                            int i31 = da2.Z[eh4Var.b(3)];
                            if (eh4Var.b(1) != 0) {
                                i31++;
                            }
                            int i32 = da2.a0[eh4Var.b(5)] * 1000;
                            eh4Var.c();
                            i13 = q;
                            tv2.I(eh4Var.c == 0);
                            kh4Var.e(eh4Var.b);
                            bs1 bs1Var = new bs1();
                            bs1Var.a = num;
                            bs1Var.j = str6;
                            bs1Var.w = i31;
                            bs1Var.x = i30;
                            bs1Var.m = al1Var2;
                            bs1Var.c = str;
                            bs1Var.e = i32;
                            bs1Var.f = i32;
                            jq1Var.b = new cu1(bs1Var);
                            str3 = str6;
                        } else {
                            i13 = q;
                            i14 = i8;
                            if (i24 == 1684366131) {
                                kh4Var.e(i21 + 8);
                                String num2 = Integer.toString(i4);
                                eh4 eh4Var2 = new eh4();
                                byte[] bArr4 = kh4Var.a;
                                int i33 = kh4Var.c;
                                eh4Var2.a = bArr4;
                                eh4Var2.b = 0;
                                eh4Var2.c = 0;
                                eh4Var2.d = i33;
                                eh4Var2.e(kh4Var.b * 8);
                                int b = eh4Var2.b(13) * 1000;
                                eh4Var2.g(3);
                                int i34 = da2.X[eh4Var2.b(2)];
                                eh4Var2.g(10);
                                int i35 = da2.Z[eh4Var2.b(3)];
                                if (eh4Var2.b(1) != 0) {
                                    i35++;
                                }
                                eh4Var2.g(3);
                                int b2 = eh4Var2.b(4);
                                str3 = str6;
                                eh4Var2.g(1);
                                if (b2 > 0) {
                                    eh4Var2.h(6);
                                    if (eh4Var2.b(1) != 0) {
                                        i35 += 2;
                                    }
                                    eh4Var2.g(1);
                                }
                                if (eh4Var2.a() > 7) {
                                    eh4Var2.g(7);
                                    if (eh4Var2.b(1) != 0) {
                                        str4 = "audio/eac3-joc";
                                        eh4Var2.c();
                                        tv2.I(eh4Var2.c != 0);
                                        kh4Var.e(eh4Var2.b);
                                        bs1 bs1Var2 = new bs1();
                                        bs1Var2.a = num2;
                                        bs1Var2.j = str4;
                                        bs1Var2.w = i35;
                                        bs1Var2.x = i34;
                                        bs1Var2.m = al1Var2;
                                        bs1Var2.c = str;
                                        bs1Var2.f = b;
                                        cu1Var = new cu1(bs1Var2);
                                    }
                                }
                                str4 = "audio/eac3";
                                eh4Var2.c();
                                tv2.I(eh4Var2.c != 0);
                                kh4Var.e(eh4Var2.b);
                                bs1 bs1Var22 = new bs1();
                                bs1Var22.a = num2;
                                bs1Var22.j = str4;
                                bs1Var22.w = i35;
                                bs1Var22.x = i34;
                                bs1Var22.m = al1Var2;
                                bs1Var22.c = str;
                                bs1Var22.f = b;
                                cu1Var = new cu1(bs1Var22);
                            } else {
                                str3 = str6;
                                if (i24 == 1684103988) {
                                    kh4Var.e(i21 + 8);
                                    String num3 = Integer.toString(i4);
                                    kh4Var.f(1);
                                    bs1 bs1Var3 = new bs1();
                                    bs1Var3.a = num3;
                                    bs1Var3.j = "audio/ac4";
                                    bs1Var3.w = 2;
                                    bs1Var3.x = 1 != ((kh4Var.n() & 32) >> 5) ? 44100 : 48000;
                                    bs1Var3.m = al1Var2;
                                    bs1Var3.c = str;
                                    cu1Var = new cu1(bs1Var3);
                                } else if (i24 == 1684892784) {
                                    if (i7 <= 0) {
                                        throw jy2.a("Invalid sample rate for Dolby TrueHD MLP stream: " + i7, null);
                                    }
                                    i8 = i7;
                                    q = 2;
                                } else if (i24 == 1684305011) {
                                    bs1 bs1Var4 = new bs1();
                                    bs1Var4.c(i4);
                                    bs1Var4.j = str8;
                                    q = i13;
                                    bs1Var4.w = q;
                                    i8 = i14;
                                    bs1Var4.x = i8;
                                    bs1Var4.m = al1Var2;
                                    bs1Var4.c = str;
                                    jq1Var.b = new cu1(bs1Var4);
                                } else {
                                    i8 = i14;
                                    q = i13;
                                    if (i24 == 1682927731) {
                                        int i36 = i10 - 8;
                                        byte[] bArr5 = a;
                                        byte[] copyOf = Arrays.copyOf(bArr5, bArr5.length + i36);
                                        kh4Var.e(i21 + 8);
                                        kh4Var.a(copyOf, bArr5.length, i36);
                                        list = ea2.H(copyOf);
                                    } else {
                                        if (i24 == 1684425825) {
                                            int i37 = i10 - 12;
                                            byte[] bArr6 = new byte[i37 + 4];
                                            bArr6[0] = 102;
                                            bArr6[1] = 76;
                                            bArr6[2] = 97;
                                            bArr6[3] = 67;
                                            kh4Var.e(i21 + 12);
                                            kh4Var.a(bArr6, 4, i37);
                                            list = nv4.v(bArr6);
                                        } else if (i24 == 1634492771) {
                                            int i38 = i10 - 12;
                                            byte[] bArr7 = new byte[i38];
                                            kh4Var.e(i21 + 12);
                                            kh4Var.a(bArr7, 0, i38);
                                            kh4 kh4Var2 = new kh4(bArr7);
                                            kh4Var2.e(9);
                                            int n = kh4Var2.n();
                                            kh4Var2.e(20);
                                            Pair create = Pair.create(Integer.valueOf(kh4Var2.p()), Integer.valueOf(n));
                                            i8 = ((Integer) create.first).intValue();
                                            int intValue = ((Integer) create.second).intValue();
                                            list = nv4.v(bArr7);
                                            q = intValue;
                                            i21 += i10;
                                            i15 = i2;
                                            i16 = i3;
                                            i9 = i25;
                                            str6 = str3;
                                        }
                                        i21 += i10;
                                        i15 = i2;
                                        i16 = i3;
                                        i9 = i25;
                                        str6 = str3;
                                    }
                                }
                            }
                            jq1Var.b = cu1Var;
                        }
                        i8 = i14;
                        q = i13;
                    }
                    if (i11 != i12) {
                        dq1 g = g(i11, kh4Var);
                        str8 = g.a;
                        byte[] bArr8 = g.b;
                        if (bArr8 != null) {
                            if ("audio/mp4a-latm".equals(str8)) {
                                e16 a2 = f16.a(new eh4(bArr8, bArr8.length), false);
                                i8 = a2.a;
                                q = a2.b;
                                str9 = a2.c;
                            }
                            dq1Var = g;
                            list = nv4.v(bArr8);
                        } else {
                            dq1Var = g;
                        }
                        i21 += i10;
                        i15 = i2;
                        i16 = i3;
                        i9 = i25;
                        str6 = str3;
                    }
                    i21 += i10;
                    i15 = i2;
                    i16 = i3;
                    i9 = i25;
                    str6 = str3;
                }
                i21 += i10;
                i15 = i2;
                i16 = i3;
                i9 = i25;
                str6 = str3;
            }
            int i39 = i9;
            if (jq1Var.b == null || str8 == null) {
            }
            bs1 bs1Var5 = new bs1();
            bs1Var5.c(i4);
            bs1Var5.j = str8;
            bs1Var5.g = str9;
            bs1Var5.w = q;
            bs1Var5.x = i8;
            bs1Var5.y = i39;
            bs1Var5.l = list;
            bs1Var5.m = al1Var2;
            bs1Var5.c = str;
            dq1 dq1Var2 = dq1Var;
            if (dq1Var2 != null) {
                bs1Var5.e = tv2.D(dq1Var2.c);
                bs1Var5.f = tv2.D(dq1Var2.d);
            }
            jq1Var.b = new cu1(bs1Var5);
            return;
        } else {
            str2 = "audio/amr-wb";
        }
        str7 = str2;
        i9 = -1;
        String str82 = str7;
        String str92 = null;
        List list2 = null;
        dq1 dq1Var3 = null;
        while (i21 - i15 < i16) {
        }
        int i392 = i9;
        if (jq1Var.b == null) {
        }
    }

    public static void i(kh4 kh4Var, int i, int i2, jq1 jq1Var) {
        kh4Var.e(i + 16);
        kh4Var.x();
        String x = kh4Var.x();
        if (x != null) {
            bs1 bs1Var = new bs1();
            bs1Var.c(i2);
            bs1Var.j = x;
            jq1Var.b = new cu1(bs1Var);
        }
    }

    public static boolean j(long[] jArr, long j, long j2, long j3) {
        int length = jArr.length;
        int i = length - 1;
        return jArr[0] <= j2 && j2 < jArr[Math.max(0, Math.min(4, i))] && jArr[Math.max(0, Math.min(length + (-4), i))] < j3 && j3 <= j;
    }
}